{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.10.7/.schema/devbox.schema.json",
  "packages": {
    "which":    "latest",
    "rustup":   "latest",
    "libiconv": "latest",
    "darwin.apple_sdk.frameworks.CoreServices": {
      "platforms": ["x86_64-darwin", "aarch64-darwin"]
    },
    "darwin.apple_sdk.frameworks.SystemConfiguration": {
      "platforms": ["x86_64-darwin", "aarch64-darwin"]
    },
    "darwin.apple_sdk.frameworks.Security": {
      "platforms": ["x86_64-darwin", "aarch64-darwin"]
    },
    "git":       "latest",
    "less":      "latest",
    "vim":       "latest",
    "openssh":   "latest",
    "trunk":     "latest",
    "wasm-pack": "latest",
    "nodejs":    "18",
    "procps":    "latest",
    "vscode":    "latest"
  },
  "shell": {
    "init_hook": [
      "if [ ! -d $RUSTUP_HOME/toolchains/stable* ]; then rustup default stable; fi",
      "if [ ! -d $RUSTUP_HOME/toolchains/stable*/lib/rustlib/wasm32-unknown-unknown ]; then rustup target add wasm32-unknown-unknown; fi",
      "alias ls='ls --color'"
    ],
    "scripts": {
      "test": [
        "make cargo_test"
      ],
      "code": [
        "code --user-data-dir .vscode --profile fledger ."
      ],
      "fledger": [
        "cd cli && cargo run -p fledger"
      ]
    }
  },
  "env": {
    "LS_COLORS": "di=33"
  }
}
